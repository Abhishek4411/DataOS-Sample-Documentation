"use strict";(self.webpackChunkdataos_docs_demo=self.webpackChunkdataos_docs_demo||[]).push([[864],{782:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"resources","title":"DataOS Resources","description":"Atomic, declarative building blocks with managed lifecycles.","source":"@site/docs/resources.md","sourceDirName":".","slug":"/resources","permalink":"/dataos-docs-demo/resources","draft":false,"unlisted":false,"editUrl":"https://github.com/your-username/dataos-docs-demo/tree/main/docs/resources.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"id":"resources","title":"DataOS Resources","sidebar_label":"Resources Overview","sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Architecture","permalink":"/dataos-docs-demo/architecture"},"next":{"title":"CLI","permalink":"/dataos-docs-demo/interfaces/cli"}}');var l=r(4848),i=r(8453);const t={id:"resources",title:"DataOS Resources",sidebar_label:"Resources Overview",sidebar_position:3},a="DataOS Resources",c={},o=[{value:"What are Resources?",id:"what-are-resources",level:2},{value:"Common Resource Structure",id:"common-resource-structure",level:2},{value:"Resource Categories",id:"resource-categories",level:2},{value:"Data Connection",id:"data-connection",level:3},{value:"Data Processing",id:"data-processing",level:3},{value:"Security &amp; Governance",id:"security--governance",level:3},{value:"Observability",id:"observability",level:3},{value:"Infrastructure",id:"infrastructure",level:3},{value:"Resource Lifecycle",id:"resource-lifecycle",level:2},{value:"States",id:"states",level:3},{value:"Transitions",id:"transitions",level:3},{value:"CRUD Operations",id:"crud-operations",level:2},{value:"Apply (Create/Update)",id:"apply-createupdate",level:3},{value:"Get (Read)",id:"get-read",level:3},{value:"Delete",id:"delete",level:3},{value:"Logs",id:"logs",level:3},{value:"Resource Composition",id:"resource-composition",level:2},{value:"Example: Workflow Using Depot",id:"example-workflow-using-depot",level:3},{value:"Workspaces",id:"workspaces",level:2},{value:"Purpose",id:"purpose",level:3},{value:"Operations",id:"operations",level:3},{value:"Default Workspace",id:"default-workspace",level:3},{value:"Resource Patterns",id:"resource-patterns",level:2},{value:"Environment Variables",id:"environment-variables",level:3},{value:"Naming Conventions",id:"naming-conventions",level:3},{value:"Tagging Strategy",id:"tagging-strategy",level:3},{value:"Version Control",id:"version-control",level:3},{value:"Resource Templates",id:"resource-templates",level:2},{value:"Template File",id:"template-file",level:3},{value:"Usage",id:"usage",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Resource Design",id:"resource-design",level:3},{value:"Security",id:"security",level:3},{value:"Performance",id:"performance",level:3},{value:"Maintainability",id:"maintainability",level:3},{value:"Resource Examples",id:"resource-examples",level:2},{value:"Minimal Depot",id:"minimal-depot",level:3},{value:"Complete Workflow",id:"complete-workflow",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Resource Not Starting",id:"resource-not-starting",level:3},{value:"Configuration Errors",id:"configuration-errors",level:3},{value:"Permission Issues",id:"permission-issues",level:3},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"dataos-resources",children:"DataOS Resources"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Atomic, declarative building blocks with managed lifecycles."})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"what-are-resources",children:"What are Resources?"}),"\n",(0,l.jsxs)(n.p,{children:["Resources are ",(0,l.jsx)(n.strong,{children:"declarative units"})," that represent infrastructure components in DataOS. Each resource is:"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Atomic"}),": Self-contained and independent"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Declarative"}),": Describes desired state"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Versioned"}),": Tracks changes over time"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Composable"}),": Works with other resources"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Managed"}),": Automatic lifecycle management"]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"common-resource-structure",children:"Common Resource Structure"}),"\n",(0,l.jsx)(n.p,{children:"All DataOS resources share a common YAML structure:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'# Resource Metadata (Required)\r\nname: resource-name\r\nversion: v1\r\ntype: resource-type\r\n\r\n# Optional Metadata\r\ntags:\r\n  - environment:production\r\n  - team:analytics\r\ndescription: "Resource purpose and context"\r\nowner: data-team\r\nlayer: user\r\n\r\n# Resource-Specific Configuration (Required)\r\n<resource-type>:\r\n  # Type-specific fields\n'})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"resource-categories",children:"Resource Categories"}),"\n",(0,l.jsx)(n.h3,{id:"data-connection",children:"Data Connection"}),"\n",(0,l.jsx)(n.p,{children:"Connect to external data sources and storage systems."}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Resource"}),(0,l.jsx)(n.th,{children:"Purpose"}),(0,l.jsx)(n.th,{children:"Example"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Depot"})}),(0,l.jsx)(n.td,{children:"Connect databases, lakes, warehouses"}),(0,l.jsx)(n.td,{children:"PostgreSQL, S3, Snowflake"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Lakehouse"})}),(0,l.jsx)(n.td,{children:"Managed lakehouse storage"}),(0,l.jsx)(n.td,{children:"Iceberg, Delta Lake"})]})]})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Use Cases:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Connect to operational databases"}),"\n",(0,l.jsx)(n.li,{children:"Access data lakes"}),"\n",(0,l.jsx)(n.li,{children:"Query data warehouses"}),"\n",(0,l.jsx)(n.li,{children:"Store processed data"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"data-processing",children:"Data Processing"}),"\n",(0,l.jsx)(n.p,{children:"Execute data transformations and computations."}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Resource"}),(0,l.jsx)(n.th,{children:"Purpose"}),(0,l.jsx)(n.th,{children:"Example"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Workflow"})}),(0,l.jsx)(n.td,{children:"Batch processing with DAGs"}),(0,l.jsx)(n.td,{children:"ETL pipelines, scheduled jobs"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Service"})}),(0,l.jsx)(n.td,{children:"Long-running processes"}),(0,l.jsx)(n.td,{children:"REST APIs, streaming consumers"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Worker"})}),(0,l.jsx)(n.td,{children:"Background task execution"}),(0,l.jsx)(n.td,{children:"Continuous computations"})]})]})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Use Cases:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"ETL/ELT pipelines"}),"\n",(0,l.jsx)(n.li,{children:"Data transformations"}),"\n",(0,l.jsx)(n.li,{children:"API services"}),"\n",(0,l.jsx)(n.li,{children:"Real-time processing"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"security--governance",children:"Security & Governance"}),"\n",(0,l.jsx)(n.p,{children:"Manage access control and secure sensitive data."}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Resource"}),(0,l.jsx)(n.th,{children:"Purpose"}),(0,l.jsx)(n.th,{children:"Example"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Policy"})}),(0,l.jsx)(n.td,{children:"Access control rules"}),(0,l.jsx)(n.td,{children:"Data masking, row-level security"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Secret"})}),(0,l.jsx)(n.td,{children:"Secure credential storage"}),(0,l.jsx)(n.td,{children:"Database passwords, API keys"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Grant"})}),(0,l.jsx)(n.td,{children:"Permission assignments"}),(0,l.jsx)(n.td,{children:"User access, role assignments"})]})]})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Use Cases:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Fine-grained access control"}),"\n",(0,l.jsx)(n.li,{children:"Secure credential management"}),"\n",(0,l.jsx)(n.li,{children:"Data governance"}),"\n",(0,l.jsx)(n.li,{children:"Compliance requirements"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"observability",children:"Observability"}),"\n",(0,l.jsx)(n.p,{children:"Monitor system health and manage incidents."}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Resource"}),(0,l.jsx)(n.th,{children:"Purpose"}),(0,l.jsx)(n.th,{children:"Example"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Monitor"})}),(0,l.jsx)(n.td,{children:"System health checks"}),(0,l.jsx)(n.td,{children:"Resource monitoring, alerts"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Pager"})}),(0,l.jsx)(n.td,{children:"Incident management"}),(0,l.jsx)(n.td,{children:"Alert routing, escalations"})]})]})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Use Cases:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Performance monitoring"}),"\n",(0,l.jsx)(n.li,{children:"Error detection"}),"\n",(0,l.jsx)(n.li,{children:"Alert management"}),"\n",(0,l.jsx)(n.li,{children:"Incident response"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"infrastructure",children:"Infrastructure"}),"\n",(0,l.jsx)(n.p,{children:"Manage compute resources and infrastructure."}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Resource"}),(0,l.jsx)(n.th,{children:"Purpose"}),(0,l.jsx)(n.th,{children:"Example"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Cluster"})}),(0,l.jsx)(n.td,{children:"Compute resource pools"}),(0,l.jsx)(n.td,{children:"Dedicated clusters"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Compute"})}),(0,l.jsx)(n.td,{children:"Processing power allocation"}),(0,l.jsx)(n.td,{children:"Resource quotas"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Volume"})}),(0,l.jsx)(n.td,{children:"Persistent storage"}),(0,l.jsx)(n.td,{children:"Shared file systems"})]})]})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Use Cases:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Resource allocation"}),"\n",(0,l.jsx)(n.li,{children:"Cost optimization"}),"\n",(0,l.jsx)(n.li,{children:"Performance tuning"}),"\n",(0,l.jsx)(n.li,{children:"Data persistence"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"resource-lifecycle",children:"Resource Lifecycle"}),"\n",(0,l.jsx)(n.h3,{id:"states",children:"States"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"Pending \u2192 Provisioning \u2192 Running \u2192 Active\r\n                                  \u2193\r\n                              Terminated\n"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Pending:"})," Resource created, waiting for provisioning",(0,l.jsx)(n.br,{}),"\n",(0,l.jsx)(n.strong,{children:"Provisioning:"})," Infrastructure being allocated",(0,l.jsx)(n.br,{}),"\n",(0,l.jsx)(n.strong,{children:"Running:"})," Resource executing/operational",(0,l.jsx)(n.br,{}),"\n",(0,l.jsx)(n.strong,{children:"Active:"})," Stable running state",(0,l.jsx)(n.br,{}),"\n",(0,l.jsx)(n.strong,{children:"Terminated:"})," Resource deleted"]}),"\n",(0,l.jsx)(n.h3,{id:"transitions",children:"Transitions"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Create/Update:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"dataos-ctl apply -f resource.yaml\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Read:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"dataos-ctl get -t <type> -n <name>\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Delete:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"dataos-ctl delete -t <type> -n <name>\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Monitor:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"dataos-ctl log -t <type> -n <name>\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"crud-operations",children:"CRUD Operations"}),"\n",(0,l.jsx)(n.h3,{id:"apply-createupdate",children:"Apply (Create/Update)"}),"\n",(0,l.jsx)(n.p,{children:"Create or update a resource from a YAML file."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Apply single file\r\ndataos-ctl apply -f depot.yaml\r\n\r\n# Apply directory\r\ndataos-ctl apply -f ./resources/\r\n\r\n# Apply to specific workspace\r\ndataos-ctl apply -f workflow.yaml -w analytics\n"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Idempotent:"})," Running apply multiple times produces the same result."]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"get-read",children:"Get (Read)"}),"\n",(0,l.jsx)(n.p,{children:"Retrieve resource information."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# List all resources of a type\r\ndataos-ctl get -t workflow\r\n\r\n# Get specific resource\r\ndataos-ctl get -t workflow -n daily-etl\r\n\r\n# Get with workspace\r\ndataos-ctl get -t workflow -w analytics\r\n\r\n# Output formats\r\ndataos-ctl get -t depot -n postgres -o yaml\r\ndataos-ctl get -t depot -n postgres -o json\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"delete",children:"Delete"}),"\n",(0,l.jsx)(n.p,{children:"Remove a resource from the system."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Delete by type and name\r\ndataos-ctl delete -t workflow -n old-pipeline\r\n\r\n# Delete from file\r\ndataos-ctl delete -f workflow.yaml\r\n\r\n# Delete from workspace\r\ndataos-ctl delete -t workflow -n daily-etl -w analytics\n"})}),"\n",(0,l.jsx)(n.admonition,{type:"warning",children:(0,l.jsx)(n.p,{children:"Deleted resources cannot be recovered. Ensure you have backups if needed."})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"logs",children:"Logs"}),"\n",(0,l.jsx)(n.p,{children:"View resource logs for debugging and monitoring."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# View recent logs\r\ndataos-ctl log -t workflow -n daily-etl\r\n\r\n# Follow logs (live tail)\r\ndataos-ctl log -t workflow -n daily-etl -f\r\n\r\n# Logs from specific time\r\ndataos-ctl log -t service -n api --since 1h\r\ndataos-ctl log -t workflow -n etl --since 2024-01-01\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"resource-composition",children:"Resource Composition"}),"\n",(0,l.jsx)(n.p,{children:"Resources can reference and depend on each other."}),"\n",(0,l.jsx)(n.h3,{id:"example-workflow-using-depot",children:"Example: Workflow Using Depot"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"# depot.yaml\r\nname: postgres-source\r\nversion: v1\r\ntype: depot\r\ndepot:\r\n  type: postgresql\r\n  connection:\r\n    host: db.example.com\r\n    port: 5432\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"# workflow.yaml\r\nname: data-pipeline\r\nversion: v1\r\ntype: workflow\r\nworkflow:\r\n  dag:\r\n    - name: extract\r\n      spec:\r\n        stack: flare:7.0\r\n        stackSpec:\r\n          job:\r\n            inputs:\r\n              - depot: postgres-source\r\n            outputs:\r\n              - depot: lakehouse-target\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Benefits:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Reusable components"}),"\n",(0,l.jsx)(n.li,{children:"Clear dependencies"}),"\n",(0,l.jsx)(n.li,{children:"Modular architecture"}),"\n",(0,l.jsx)(n.li,{children:"Easier testing"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"workspaces",children:"Workspaces"}),"\n",(0,l.jsx)(n.p,{children:"Workspaces provide logical isolation for resources."}),"\n",(0,l.jsx)(n.h3,{id:"purpose",children:"Purpose"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Multi-tenancy"}),": Separate team resources"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Environment isolation"}),": Dev, staging, prod"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Access control"}),": Workspace-level permissions"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Resource organization"}),": Group related resources"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"operations",children:"Operations"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# List workspaces\r\ndataos-ctl workspace list\r\n\r\n# Create workspace\r\ndataos-ctl workspace create -n analytics\r\n\r\n# Delete workspace (must be empty)\r\ndataos-ctl workspace delete -n old-workspace\r\n\r\n# Deploy to workspace\r\ndataos-ctl apply -f workflow.yaml -w analytics\n"})}),"\n",(0,l.jsx)(n.h3,{id:"default-workspace",children:"Default Workspace"}),"\n",(0,l.jsxs)(n.p,{children:["Resources without explicit workspace go to ",(0,l.jsx)(n.code,{children:"public"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Deployed to public workspace\r\ndataos-ctl apply -f depot.yaml\r\n\r\n# Explicitly to analytics\r\ndataos-ctl apply -f depot.yaml -w analytics\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"resource-patterns",children:"Resource Patterns"}),"\n",(0,l.jsx)(n.h3,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,l.jsx)(n.p,{children:"Use variables for configuration flexibility."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'name: ${ENV}-sales-pipeline\r\nversion: v1\r\ntype: workflow\r\ndescription: "Pipeline for ${ENV} environment"\r\n\r\nworkflow:\r\n  schedule:\r\n    cron: "${CRON_SCHEDULE}"\r\n  dag:\r\n    - name: extract\r\n      spec:\r\n        stack: flare:7.0\r\n        stackSpec:\r\n          job:\r\n            inputs:\r\n              - depot: ${SOURCE_DEPOT}\n'})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Deploy:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'ENV=production \\\r\nCRON_SCHEDULE="0 2 * * *" \\\r\nSOURCE_DEPOT=prod-postgres \\\r\ndataos-ctl apply -f workflow.yaml\n'})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"naming-conventions",children:"Naming Conventions"}),"\n",(0,l.jsx)(n.p,{children:"Use consistent, descriptive names."}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Good Names:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"# Descriptive, hierarchical\r\nname: sales-daily-etl-pipeline\r\nname: customer-profile-api-service\r\nname: postgres-production-depot\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Avoid:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"# Vague, unclear\r\nname: workflow1\r\nname: test\r\nname: my-depot\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Pattern:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"<domain>-<frequency>-<type>-<purpose>\r\n  sales   daily      etl    pipeline\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"tagging-strategy",children:"Tagging Strategy"}),"\n",(0,l.jsx)(n.p,{children:"Apply consistent tags for organization and filtering."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"tags:\r\n  - environment:production\r\n  - team:analytics\r\n  - domain:sales\r\n  - criticality:high\r\n  - frequency:daily\r\n  - cost-center:marketing\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Use Cases:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Filter resources by tag"}),"\n",(0,l.jsx)(n.li,{children:"Cost allocation"}),"\n",(0,l.jsx)(n.li,{children:"Access policies"}),"\n",(0,l.jsx)(n.li,{children:"Monitoring dashboards"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"version-control",children:"Version Control"}),"\n",(0,l.jsx)(n.p,{children:"Store all YAML files in Git for tracking and collaboration."}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Repository Structure:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"data-platform/\r\n\u251c\u2500\u2500 depots/\r\n\u2502   \u251c\u2500\u2500 postgres-sales.yaml\r\n\u2502   \u2514\u2500\u2500 s3-datalake.yaml\r\n\u251c\u2500\u2500 workflows/\r\n\u2502   \u251c\u2500\u2500 daily-etl.yaml\r\n\u2502   \u2514\u2500\u2500 hourly-sync.yaml\r\n\u251c\u2500\u2500 services/\r\n\u2502   \u251c\u2500\u2500 customer-api.yaml\r\n\u2502   \u2514\u2500\u2500 analytics-api.yaml\r\n\u251c\u2500\u2500 policies/\r\n\u2502   \u251c\u2500\u2500 sales-access.yaml\r\n\u2502   \u2514\u2500\u2500 pii-masking.yaml\r\n\u2514\u2500\u2500 README.md\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Workflow:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'# Create feature branch\r\ngit checkout -b add-new-pipeline\r\n\r\n# Add resource\r\ngit add workflows/new-pipeline.yaml\r\n\r\n# Commit with message\r\ngit commit -m "Add customer enrichment pipeline"\r\n\r\n# Push and create PR\r\ngit push origin add-new-pipeline\n'})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"resource-templates",children:"Resource Templates"}),"\n",(0,l.jsx)(n.p,{children:"Create reusable templates for common patterns."}),"\n",(0,l.jsx)(n.h3,{id:"template-file",children:"Template File"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",metastring:'title="templates/etl-workflow.yaml"',children:'name: ${PIPELINE_NAME}\r\nversion: v1\r\ntype: workflow\r\ntags:\r\n  - ${ENV}\r\n  - ${TEAM}\r\ndescription: "${DESCRIPTION}"\r\n\r\nworkflow:\r\n  schedule:\r\n    cron: "${SCHEDULE}"\r\n  dag:\r\n    - name: extract\r\n      spec:\r\n        stack: flare:7.0\r\n        stackSpec:\r\n          job:\r\n            inputs:\r\n              - depot: ${SOURCE}\r\n            outputs:\r\n              - depot: ${TARGET}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"usage",children:"Usage"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'# Set variables\r\nexport PIPELINE_NAME="sales-etl"\r\nexport ENV="production"\r\nexport TEAM="analytics"\r\nexport DESCRIPTION="Daily sales data ETL"\r\nexport SCHEDULE="0 2 * * *"\r\nexport SOURCE="postgres-sales"\r\nexport TARGET="lakehouse-sales"\r\n\r\n# Apply template\r\nenvsubst < templates/etl-workflow.yaml | dataos-ctl apply -f -\n'})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,l.jsx)(n.h3,{id:"resource-design",children:"Resource Design"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Single Responsibility"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"One resource, one purpose"}),"\n",(0,l.jsx)(n.li,{children:"Avoid multi-function resources"}),"\n",(0,l.jsx)(n.li,{children:"Keep configurations focused"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Idempotency"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Same input = same output"}),"\n",(0,l.jsx)(n.li,{children:"Safe to re-apply"}),"\n",(0,l.jsx)(n.li,{children:"No side effects"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Declarative"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Describe what, not how"}),"\n",(0,l.jsx)(n.li,{children:"Let DataOS handle details"}),"\n",(0,l.jsx)(n.li,{children:"Minimal imperative logic"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"security",children:"Security"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Credentials"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Never hardcode secrets"}),"\n",(0,l.jsx)(n.li,{children:"Use Secret resources"}),"\n",(0,l.jsx)(n.li,{children:"Reference via environment variables"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Access Control"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Apply least privilege"}),"\n",(0,l.jsx)(n.li,{children:"Use workspace isolation"}),"\n",(0,l.jsx)(n.li,{children:"Define explicit policies"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Audit"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Enable logging"}),"\n",(0,l.jsx)(n.li,{children:"Track resource changes"}),"\n",(0,l.jsx)(n.li,{children:"Monitor access patterns"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"performance",children:"Performance"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Resource Limits"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"compute: runnable-default\r\n\r\n# Or custom\r\nresources:\r\n  requests:\r\n    cpu: 500m\r\n    memory: 1Gi\r\n  limits:\r\n    cpu: 2000m\r\n    memory: 4Gi\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Optimization"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Right-size resources"}),"\n",(0,l.jsx)(n.li,{children:"Use appropriate compute tiers"}),"\n",(0,l.jsx)(n.li,{children:"Enable caching where applicable"}),"\n",(0,l.jsx)(n.li,{children:"Monitor and tune"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"maintainability",children:"Maintainability"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Documentation"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"description: |\r\n  Daily ETL pipeline for sales data.\r\n  \r\n  Source: PostgreSQL production database\r\n  Target: Iceberg lakehouse\r\n  Schedule: 2 AM UTC daily\r\n  Owner: Analytics Team\r\n  SLA: 99.5% success rate\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Comments"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"workflow:\r\n  dag:\r\n    - name: extract\r\n      # Fetches last 24h of sales orders\r\n      spec:\r\n        stack: flare:7.0\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"resource-examples",children:"Resource Examples"}),"\n",(0,l.jsx)(n.h3,{id:"minimal-depot",children:"Minimal Depot"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"name: my-database\r\nversion: v1\r\ntype: depot\r\ndepot:\r\n  type: postgresql\r\n  connection:\r\n    host: localhost\r\n    port: 5432\n"})}),"\n",(0,l.jsx)(n.h3,{id:"complete-workflow",children:"Complete Workflow"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'name: sales-etl\r\nversion: v1\r\ntype: workflow\r\ntags:\r\n  - production\r\n  - sales\r\n  - daily\r\ndescription: "Daily sales data processing pipeline"\r\nowner: analytics-team\r\n\r\nworkflow:\r\n  schedule:\r\n    cron: "0 2 * * *"\r\n    timezone: UTC\r\n  \r\n  dag:\r\n    - name: extract\r\n      spec:\r\n        stack: flare:7.0\r\n        compute: runnable-default\r\n        \r\n        stackSpec:\r\n          job:\r\n            explain: true\r\n            logLevel: INFO\r\n            \r\n            inputs:\r\n              - name: sales_data\r\n                depot: postgres-sales\r\n            \r\n            steps:\r\n              - sequence:\r\n                  - name: transform\r\n                    sql: |\r\n                      SELECT \r\n                        order_id,\r\n                        customer_id,\r\n                        order_date,\r\n                        SUM(amount) as total\r\n                      FROM sales_orders\r\n                      WHERE order_date >= CURRENT_DATE - 1\r\n                      GROUP BY order_id, customer_id, order_date\r\n            \r\n            outputs:\r\n              - name: processed_sales\r\n                depot: lakehouse-sales\n'})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,l.jsx)(n.h3,{id:"resource-not-starting",children:"Resource Not Starting"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Check resource status\r\ndataos-ctl get -t workflow -n my-workflow -o yaml\r\n\r\n# View logs\r\ndataos-ctl log -t workflow -n my-workflow\r\n\r\n# Common issues:\r\n# - Invalid configuration\r\n# - Missing dependencies\r\n# - Insufficient resources\r\n# - Permission denied\n"})}),"\n",(0,l.jsx)(n.h3,{id:"configuration-errors",children:"Configuration Errors"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Validate before applying\r\ndataos-ctl apply -f workflow.yaml --dry-run\r\n\r\n# Check syntax\r\nyamllint workflow.yaml\n"})}),"\n",(0,l.jsx)(n.h3,{id:"permission-issues",children:"Permission Issues"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Check your permissions\r\ndataos-ctl auth whoami\r\n\r\n# Verify workspace access\r\ndataos-ctl workspace list\r\n\r\n# Check resource ownership\r\ndataos-ctl get -t workflow -n my-workflow -o yaml | grep owner\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,l.jsxs)("div",{className:"grid grid-3",children:[(0,l.jsxs)("div",{className:"card",children:[(0,l.jsx)("div",{className:"card-title",children:"CLI Reference"}),(0,l.jsx)("div",{className:"card-content",children:"Complete command reference for managing resources."}),(0,l.jsx)("p",{children:(0,l.jsx)("a",{href:"/interfaces/cli",children:"CLI Guide \u2192"})})]}),(0,l.jsxs)("div",{className:"card",children:[(0,l.jsx)("div",{className:"card-title",children:"Examples"}),(0,l.jsx)("div",{className:"card-content",children:"Real-world resource configurations and patterns."}),(0,l.jsx)("p",{children:(0,l.jsx)("a",{href:"/quick-start",children:"Examples \u2192"})})]}),(0,l.jsxs)("div",{className:"card",children:[(0,l.jsx)("div",{className:"card-title",children:"API Reference"}),(0,l.jsx)("div",{className:"card-content",children:"Programmatic resource management via API."}),(0,l.jsx)("p",{children:(0,l.jsx)("a",{href:"/interfaces/api",children:"API Docs \u2192"})})]})]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>a});var s=r(6540);const l={},i=s.createContext(l);function t(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);